<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>剪辑师项目管理系统 · Life_HAN</title>
  <link rel="stylesheet" href="./styles.css?v=0.3">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    window.SUPABASE_URL      = "https://lywlcsrndkturdpgvvnc.supabase.co";
    window.SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx5d2xjc3JuZGt0dXJkcGd2dm5jIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwOTg1NzUsImV4cCI6MjA3MDY3NDU3NX0.z49xmAaG1ciyMbGPPamoYfiAwFTP0PfX7__K3iRRkhs";
  </script>
</head>
<body>
<header class="topbar">
  <div class="brand">剪辑师项目管理系统 · <span class="brand-gold">Life_HAN</span></div>
  <nav class="nav">
    <button id="btn-home" class="nav-btn">首页</button>
    <button id="btn-projects" class="nav-btn">项目</button>
    <button id="btn-schedule" class="nav-btn">档期</button>
    <button id="btn-gallery" class="nav-btn">作品合集</button>
    <button id="btn-finance" class="nav-btn">财务</button>
  </nav>
  <button id="btn-logout" class="nav-btn">退出登录</button>
</header>

<!-- 登录页 -->
<section id="view-login" class="view active">
  <div class="login-panel">
    <h2>登录</h2>
    <input id="email" type="email" placeholder="邮箱"/>
    <input id="password" type="password" placeholder="密码"/>
    <button id="login-submit">登录 / 注册</button>
  </div>
</section>

<!-- 首页 -->
<section id="view-home" class="view">
  <div class="kpi-row">
    <div class="kpi-card kpi-gold"><div>已收款</div><strong id="kpi-paid">¥0</strong></div>
    <div class="kpi-card kpi-yellow"><div>已收定金</div><strong id="kpi-deposit">¥0</strong></div>
    <div class="kpi-card kpi-red"><div>未收款</div><strong id="kpi-unpaid">¥0</strong></div>
  </div>
  <div class="panel">
    <div class="panel-head"><h3>最近项目</h3></div>
    <div id="recent-list" class="list"></div>
  </div>
  <div class="panel">
    <div><strong>成本计算器</strong></div>
    <form id="calc-form">
      <input id="quote" type="number" placeholder="总报价"/>
      <input id="deposit" type="number" placeholder="已收定金"/>
      <input id="paid" type="number" placeholder="已收尾款"/>
      <button>计算</button>
    </form>
    <div id="calc-result" style="margin-top:6px">未收款：¥0</div>
  </div>
</section>

<!-- 项目 -->
<section id="view-projects" class="view">
  <div class="panel"><h3>项目列表</h3>
    <div class="table-wrap">
      <table>
        <thead><tr><th>项目</th><th>品牌</th><th>类型&规格</th><th>条数</th><th>进度</th><th>支付状态</th><th>金额</th></tr></thead>
        <tbody id="projects-body"></tbody>
      </table>
    </div>
  </div>
</section>

<!-- 档期弹窗 -->
<div id="schedule-modal" class="modal">
  <div class="modal-card">
    <div class="row">
      <button id="cal-prev">◀</button>
      <span id="cal-label"></span>
      <button id="cal-next">▶</button>
    </div>
    <div id="cal-grid" class="cal-grid"></div>
    <div class="modal-actions"><button id="cal-close">关闭</button></div>
  </div>
</div>

<!-- 作品 -->
<section id="view-gallery" class="view">
  <div class="panel"><h3>作品合集</h3><div id="gallery-grid" class="poster-grid"></div></div>
</section>

<!-- 财务 -->
<section id="view-finance" class="view">
  <div class="panel"><h3>财务</h3><div id="finance-list" class="list"></div></div>
</section>

<script src="./app.js?v=0.3.1"></script>
</body>
</html>
